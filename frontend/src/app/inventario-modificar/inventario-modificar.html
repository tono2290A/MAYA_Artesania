<div class="usuarios-container">
  <h2>Modificar Inventario</h2>

  <button class="nuevo-btn" (click)="abrirModal()">‚úèÔ∏è Ajustar Inventario</button>

  <div class="tabla-card">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>C√≥digo</th>
          <th>Nombre</th>
          <th>Cantidad</th>
          <th>Stock m√≠nimo</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of listaInventario">
          <td>{{ i.id_inventario }}</td>
          <td>{{ i.codigo_producto }}</td>
          <td>{{ i.nombre_producto }}</td>
          <td>{{ i.cantidad }}</td>
          <td>{{ i.stock_minimo }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- üåü Ventana flotante -->
<div class="modal-overlay" *ngIf="mostrarModal">
  <div class="modal-float">
    <h3>Ajustar Inventario</h3>

    <form (ngSubmit)="guardarCambios()">
      <label>C√≥digo de producto:</label>
      <input
        type="text"
        [(ngModel)]="producto.codigo_producto"
        name="codigo_producto"
        (change)="buscarProducto()"
        placeholder="Escanea o escribe el c√≥digo"
        required
      />

      <label>Nombre del producto:</label>
      <input type="text" [(ngModel)]="producto.nombre_producto" name="nombre_producto" readonly />

      <label>Nueva cantidad:</label>
      <input type="number" [(ngModel)]="producto.cantidad" name="cantidad" required />

      <label>Stock m√≠nimo:</label>
      <input type="number" [(ngModel)]="producto.stock_minimo" name="stock_minimo" required />

      <div class="modal-actions">
        <button type="submit">Guardar Cambios</button>
        <button type="button" class="cancel-btn" (click)="cerrarModal()">Cancelar</button>
      </div>
    </form>
  </div>
</div>
